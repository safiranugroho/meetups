<!DOCTYPE html>
<html>

<head>
  <title>Weekly Meetups</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      font-size: 13px;
      line-height: 17px;
    }
    p, a {
      margin: 0;
    }
    a {
      color: royalblue;
    }
    span {
      color: gray;
    }
    .date {
      font-weight: bold;
      margin: 10px 0;
    }
    .events-by-date {
      margin: 20px 0;
    }
    .events-list {
      padding-inline-start: 20px;
    }
    .event {
      margin: 8px 0;
      width: max-content;
    }
  </style>
</head>

<body>
  <% @events_by_date.each do |date, events| %>
  <div class="events-by-date">
    <p class="date"><%= date %></p>
    <ul class="events-list">
      <% events.each do |event| %>
      <li class="event">
        <p>
          <a href="<%= event['link'] %>"><%= event['name'] %></a>
          <span>at </span><%= event['venue']['name'] unless event['venue'].nil? %>
        </p>
        <p>
          <span>by </span><%= event['group']['name'] unless event['group'].nil? %>
        </p>
      </li>
      <% end %>
    </ul>
  </div>
  <% end unless @events_by_date.nil? %>
</body>

</html>